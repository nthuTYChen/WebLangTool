<template name="studentHome">
	<style>
		section > table {
			width: 70vw;
			margin: 2vh 5vw;
			text-align: left;
		}

		section > table > thead {
			font-weight: bold;
		}

		table td {
			padding: 5px;
			border-bottom: 2px dotted grey;
		}

		table td:not(:last-of-type) {
			border-right: 2px dotted grey;
		}

		table td:first-of-type {
			width: 50%;
		}

		table td:nth-of-type(2) {
			width: 15%;
		}

		table > tbody td:first-of-type:hover {
			background-color: #e0e0e0;
			cursor: pointer;
			transition: all ease-in 0.2s;
		}

		table > tbody td > span {
			color: crimson;
		}
	</style>
	<!-- The subheader showing the "Student's Corner" information -->
	<h6>Student's Corner: Writing makes you a more civilized individual.</h6>
	<!-- The button that "logs out" the student user. See also
	     /import/client/student-module.js -->
	<p>
		<input type="button" id="logout" value="Log Out" />
	</p>
	<!-- Four grouped radio buttons for showing different sets of projects.
	     See also /import/client/student-module.js -->
	<p>
		<input type="radio" name="showItems" id="allItems" checked="checked" /> All 
		<input type="radio" name="showItems" id="newItems" /> New
		<input type="radio" name="showItems" id="incompleteItems" /> Incomplete 
		<input type="radio" name="showItems" id="completeItems" /> Complete
	</p>
	<section>
		<!-- A table for the project list -->
		<table>
			<!-- The headers for the column titles -->
			<thead>
				<tr>
					<td>Project Title</td>
					<td>Status</td>
					<td>Date of Creation</td>
				</tr>
			</thead>
			<!-- Each row in the table body will be one project. -->
			<tbody>
				<!-- Showing each writing project document returned from the "writeProjects"
				     helper in /import/client/student-module.js -->
				{{#each writeProjects}}
					<tr>
						<!-- Using {{}} to directly get project information from each document.
						     In addition, based on whether "isNew" is TRUE or FALSE, the title
						     will include or leave out "New!". Also, add the project ID information
						     to the "id" attribute of the first column, so JS can retrieve the 
						     project ID info when users click on a title. -->
						<td id="project_{{_id}}">{{title}} (v{{version}}) {{#if isNew}}<span>New!</span>{{/if}}</td>
						<td>{{status}}</td>
						<td>{{createdAt}}</td>
					</tr>
				<!-- If the helper returns nothing, display just one row spanning over three
					 columns with the message showing that there's no writing project. -->
				{{else}}
					<tr>
						<td colspan="3">There is no writing project for you.</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</section>
</template>

<!-- The template for typing an essay for a project. -->
<template name="writing">
	<style>
		section {
			margin: 1vh 0;
			padding: 5px;
		}

		section > textarea {
			width: 100%;
			height: 30vh;
			font-family: Domine, serif;
			font-size: 2vh;
			border: 0;
			resize: none;
		}

		section > textarea:focus {
			border: 0;
			outline: none;
		}

		section:not(:first-of-type) {
			width: 80%;	
			margin-left: 10%;
			padding: 10px;
			text-align: left;
		}

		section:not(:first-of-type):not(:last-of-type),
		section:not(:first-of-type):not(:last-of-type) > textarea {
			background-color: lightgreen;
		}

		section:last-of-type, section:last-of-type > textarea {
			background-color: #e2eaee;
		}

		section:last-of-type > textarea {
			height: 50vh;
		}

		section > p {
			margin: 1vh 0;
		}

		section > p:first-of-type {
			font-family: Stack Sans Text, sans-serif;
			font-weight: bold;
		}
	</style>
	<!-- The first section focuses on presenting the current project information with
	     the four buttons doing different things for the current project -->
	<section>
		<p>Project Title: {{projectInfo "title"}}</p>
		<p>Instructor: {{projectInfo "instructor"}}</p>
		<p>Created At: {{projectInfo "createdAt"}}</p>
		<!-- Show this info only for completed projects -->
		{{#if isComplete}}
			<p>Completed At: {{projectInfo "completedAt"}}</p>
		{{/if}}
		<p>
			<!-- Show these buttons for saving the current project draft 
			     unless for completed projects -->
			{{#unless isComplete}}
				<input type="button" id="save" value="Save" /> 
				<input type="button" id="saveAndQuit" value="Save & Quit" />
			{{/unless}}
			<input type="button" id="quit" value="Quit" />
			<!-- Show this buttons for saving the current project draft 
			     unless for completed projects -->
			{{#unless isComplete}}
				<input type="button" id="submit" value="Submit" />
			{{/unless}}
		</p>
	</section>
	<section>
		<p>Instructions:</p>
		<textarea readonly>{{projectInfo "instructions"}}</textarea>
	</section>
	<!-- Show this section only if the project has comments from the instructor -->
	{{#if isWithComments}}
		<section>
			<p>Comments from the Instructor:</p>
			<textarea readonly>{{projectInfo "comments"}}</textarea>
		</section>
	{{/if}}
	<section>
		<!-- Present the current draft length as well as the project word limit. See the helpers in
		     student-module.js -->
		<p>Word Count/Limit: <span style="color: seagreen;">{{essayLength}}</span> / <span style="color: crimson;">{{projectInfo "wordLimit"}}</span></p>
		<textarea id="essay" placeholder="Type your essay here." {{compReadonly}}>{{projectInfo "essay"}}</textarea>
	</section>
</template>